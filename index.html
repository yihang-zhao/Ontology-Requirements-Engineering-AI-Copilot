<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Miro Plugin - Ideation</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
  <style>
    .container {
      max-width: 1600px;
      margin: 20px auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f8f9fa;
    }
    .section {
      margin-bottom: 20px;
    }
    #saveMessage {
      display: none;
    }
    #ideationBlock {
      display: none;
    }
    .preselected-sentence {
      cursor: pointer;
      margin-bottom: 5px;
      padding: 5px;
      background-color: #f8f9fa;
      border-radius: 5px;
    }
    .preselected-sentence:hover {
      background-color: #e9ecef;
    }
    .navbar {
      padding: 0.5rem 1rem;
    }
    .user-story-block {
      cursor: pointer;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }
    .user-story-block:hover {
      background-color: #f8f9fa;
    }
    .user-story-block.selected {
      background-color: #e9ecef;
    }
    #ideationBlock {
      display: none;
    }
    .preselected-sentence {
      cursor: pointer;
      margin-bottom: 5px;
      padding: 5px;
      background-color: #f8f9fa;
      border-radius: 5px;
    }
    .preselected-sentence:hover {
      background-color: #e9ecef;
    }
    .preselected-sentence.selected {
      background-color: #e9ecef;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Miro Plugin</a>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Ideation</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="recombination.html">Recombination</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="rephrase.html">Rephrase</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="group.html">Group & Priority</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="orsd.html">ORSD</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="cqs.html">CQs</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container mt-4 ideation-container">
    <div class="row">
      <div class="col-md-3">
        <div class="section">
          <h4>Tell me something about you and your project</h4>
          <form id="userInfoForm">
            <div class="mb-3">
              <label for="name">Name:</label>
              <input type="text" id="name" class="form-control" required>
            </div>
            <div class="mb-3">
              <label for="role">Role:</label>
              <select id="role" class="form-select" required>
                <option value="">Select a role</option>
                <option value="Ontology Engineer">Ontology Engineer</option>
                <option value="Knowledge Engineer">Knowledge Engineer</option>
                <option value="Data Scientist">Data Scientist</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="skills">Skills:</label>
              <select id="skills" class="form-select" required>
                <option value="">Select a skill</option>
                <option value="Ontology Design">Ontology Design</option>
                <option value="Knowledge Representation">Knowledge Representation</option>
                <option value="Semantic Web Technologies">Semantic Web Technologies</option>
                <option value="Data Integration">Data Integration</option>
                <option value="Natural Language Processing">Natural Language Processing</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="interest">Interest:</label>
              <select id="interest" class="form-select" required>
                <option value="">Select an interest</option>
                <option value="Ontology Engineering">Ontology Engineering</option>
                <option value="Knowledge Graphs">Knowledge Graphs</option>
                <option value="Linked Data">Linked Data</option>
                <option value="Semantic Interoperability">Semantic Interoperability</option>
                <option value="Reasoning and Inference">Reasoning and Inference</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="career">Career:</label>
              <select id="career" class="form-select" required>
                <option value="">Select a career</option>
                <option value="Research">Research</option>
                <option value="Academia">Academia</option>
                <option value="Industry">Industry</option>
                <option value="Government">Government</option>
                <option value="Freelance">Freelance</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="projectIntro">Project Intro:</label>
              <textarea id="projectIntro" class="form-control" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">OK</button>
          </form>
          <div id="saveMessage" class="mt-3 alert alert-success" style="display: none;">
            Information saved successfully!
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="section">
          <h4>User Story</h4>
          <div class="user-story-block" data-section="persona">
            <h5>Persona</h5>
            <p>Linka, a researcher in computer science</p>
          </div>
          <div class="user-story-block" data-section="goal">
            <h5>Goal</h5>
            <p>Finding/describing music-related data of multiple formats from different sources</p>
          </div>
          <div class="user-story-block" data-section="keywords">
            <h5>Keywords</h5>
            <p>music data, multi-modal data, knowledge discovery</p>
          </div>
          <div class="user-story-block" data-section="scenario-before">
            <h5>Scenario - Before</h5>
            <p>The analytical and manual process to find music data on the Web from different sources is unmanageable and time-consuming</p>
          </div>
          <div class="user-story-block" data-section="scenario-after">
            <h5>Scenario - During/After</h5>
            <p>Possibility to perform all the operations in an automatic manner and with little supervision</p>
          </div>
          <div class="user-story-block" data-section="stories">
            <h5>Stories</h5>
            <p>"Penny Lane" is a musical work by "The Beatles"</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="section">
          <h4>Brainstorming</h4>
          <button id="brainstormingBtn" class="btn btn-primary">Brainstorm</button>
          <button id="refreshBtn" class="btn btn-secondary" style="display: none;">Refresh</button>
          <div id="ideationBlock" class="mt-3" style="display: none;">
            <h5>Select a sentence:</h5>
            <div id="preselectedSentences">
              <!-- Preselected sentences will be dynamically added here -->
            </div>
            <button id="confirmBtn" class="btn btn-success mt-2" disabled>Confirm</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Add click event listeners to term buttons
    document.querySelectorAll('.term-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const className = btn.classList[1];
        highlightTerms(className);
      });
    });

    // Add hover event listeners to highlighted terms
    document.addEventListener('mouseover', e => {
      if (e.target.classList.contains('term')) {
        showOptions(e.target);
      }
    });

    // Hide options when clicking outside
    document.addEventListener('click', e => {
      if (!e.target.closest('.options')) {
        document.querySelector('.options').style.display = 'none';
      }
    });

    // User info form submission
    document.getElementById('userInfoForm').addEventListener('submit', function (e) {
      e.preventDefault();
      // Simulate saving user information
      setTimeout(function () {
        document.getElementById('saveMessage').style.display = 'block';
        setTimeout(function () {
          document.getElementById('saveMessage').style.display = 'none';
        }, 2000);
      }, 1000);
    });

    // User story block selection
    const userStoryBlocks = document.querySelectorAll('.user-story-block');
    let selectedBlock = null;

    userStoryBlocks.forEach(function (block) {
      block.addEventListener('click', function () {
        if (selectedBlock) {
          selectedBlock.classList.remove('selected');
        }
        block.classList.add('selected');
        selectedBlock = block;
      });
    });

    // Brainstorming button click
    document.getElementById('brainstormingBtn').addEventListener('click', function () {
      const preselectedSentences = document.getElementById('preselectedSentences');
      preselectedSentences.innerHTML = '';

      // Generate random preselected sentences
      const sentences = generateRandomSentences(5);
      sentences.forEach(function (sentence) {
        const sentenceElement = document.createElement('div');
        sentenceElement.classList.add('preselected-sentence');
        sentenceElement.textContent = sentence;
        sentenceElement.addEventListener('click', function () {
          selectSentence(this);
        });
        preselectedSentences.appendChild(sentenceElement);
      });

      document.getElementById('ideationBlock').style.display = 'block';
      document.getElementById('refreshBtn').style.display = 'inline-block';
    });

    // Refresh button click
    document.getElementById('refreshBtn').addEventListener('click', function () {
      const preselectedSentences = document.getElementById('preselectedSentences');
      preselectedSentences.innerHTML = '';

      // Generate new random preselected sentences
      const sentences = generateRandomSentences(5);
      sentences.forEach(function (sentence) {
        const sentenceElement = document.createElement('div');
        sentenceElement.classList.add('preselected-sentence');
        sentenceElement.textContent = sentence;
        sentenceElement.addEventListener('click', function () {
          selectSentence(this);
        });
        preselectedSentences.appendChild(sentenceElement);
      });
    });

    // Select a preselected sentence
    function selectSentence(sentenceElement) {
      const selectedSentence = document.querySelector('.preselected-sentence.selected');
      if (selectedSentence) {
        selectedSentence.classList.remove('selected');
      }
      sentenceElement.classList.add('selected');
      document.getElementById('confirmBtn').disabled = false;
    }

    // Confirm button click
    document.getElementById('confirmBtn').addEventListener('click', function () {
      const selectedSentence = document.querySelector('.preselected-sentence.selected').textContent;
      if (selectedBlock) {
        selectedBlock.querySelector('p').textContent = selectedSentence;
        document.getElementById('ideationBlock').style.display = 'none';
        document.getElementById('refreshBtn').style.display = 'none';
        document.getElementById('confirmBtn').disabled = true;
        selectedBlock.classList.remove('selected');
        selectedBlock = null;
      }
    });

    // Generate random preselected sentences
    function generateRandomSentences(count) {
      const sentences = [
        'The ontology should define key concepts such as music, artist, album, and genre.',
        'Relationships like "performed by" and "belongs to" can connect the concepts.',
        'Properties such as title, release date, and duration can be associated with the concepts.',
        'The ontology can provide a common vocabulary for integrating music data from different sources.',
        'Mapping rules can be defined to align the ontology with existing schemas and formats.',
        'Querying and reasoning over the integrated data can be performed using the ontology.',
        'The ontology enables a formal and explicit representation of music-related knowledge.',
        'It supports reasoning and inference to derive new knowledge from the existing data.',
        'The ontology promotes data interoperability and facilitates knowledge sharing and reuse.'
      ];

      const randomSentences = [];
      for (let i = 0; i < count; i++) {
        const randomIndex = Math.floor(Math.random() * sentences.length);
        randomSentences.push(sentences[randomIndex]);
      }

      return randomSentences;
    }
  </script>
</body>
</html>